{"version":3,"sources":["webpack:///src/app/modals/second/second.page.html","webpack:///src/app/tab2/tab2.page.html","webpack:///src/app/modals/second/second.page.scss","webpack:///src/app/modals/second/second.page.ts","webpack:///src/app/tab2/tab2-routing.module.ts","webpack:///src/app/tab2/tab2.module.ts","webpack:///src/app/tab2/tab2.page.scss","webpack:///src/app/tab2/tab2.page.ts"],"names":["SecondPage","modalController","formBuilder","auth","api","toastController","router","Promise","resolve","reject","guard","guardData","then","shifts$","getGuardShift","id","toPromise","data","shifts","registerVisitorForm","createRegisterVisitorForm","group","name","required","rut","patent","shiftId","JSON","stringify","registerVisitor","value","console","log","navigate","error","presentToast","dismiss","message","create","color","duration","toast","present","selector","template","routes","path","component","Tab2PageRoutingModule","imports","forChild","exports","Tab2PageModule","declarations","entryComponents","Tab2Page","visitas$","getVisitors","visitas","visits","event","setTimeout","target","complete","modal","visitId","sessionStorage","setItem","table"],"mappings":"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","file":"tab2-tab2-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Guardar Visita</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"closeModal()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"close\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content class=\\\"valign-wrapper2\\\">\\n  <form lass=\\\"valign-wrapper4\\\" [formGroup]=\\\"registerVisitorForm\\\" (ngSubmit)=\\\"registerVisitor()\\\">\\n  <ion-grid >\\n    <ion-row>\\n      <ion-col>\\n        <ion-item class=\\\"wrapper2\\\">\\n          <ion-label>Ingrese Nombre y Apellido</ion-label>\\n        </ion-item>\\n        \\n        <ion-item class=\\\"wrapper2\\\">\\n          <ion-input placeholder=\\\"Ej: Juan\\\" formControlName=\\\"name\\\"></ion-input>\\n        </ion-item>\\n        \\n        <ion-item class=\\\"wrapper2\\\">\\n          <ion-label>Ingrese Patente (opcional)</ion-label>\\n        </ion-item>\\n        \\n        <ion-item class=\\\"wrapper2\\\">\\n          <ion-input placeholder=\\\"Ej: GKYY11\\\" formControlName=\\\"patent\\\"></ion-input>\\n        </ion-item>\\n        \\n        <ion-item class=\\\"wrapper2\\\">\\n          <ion-label>Ingrese Rut</ion-label>\\n        </ion-item>\\n        \\n        <ion-item class=\\\"wrapper2\\\"> \\n          <ion-input placeholder=\\\"Ej: 11.111.111-0\\\" formControlName=\\\"rut\\\"></ion-input>\\n        </ion-item>\\n\\n        <ion-item class=\\\"wrapper2\\\">\\n          <ion-label>Ingrese Hora</ion-label>\\n        </ion-item>\\n\\n        <ion-item class=\\\"wrapper2\\\">\\n          <ion-datetime displayFormat=\\\"HH:mm\\\" placeholder=\\\"Ej: 16:30\\\" formControlName=\\\"in\\\"></ion-datetime>\\n        </ion-item>\\n        <br>\\n        <ion-button color=\\\"primary\\\" type=\\\"submit\\\" size=\\\"large\\\" expand=\\\"block\\\" shape=\\\"round\\\" (click)=\\\"closeModal()\\\">Guardar Visita</ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  </form>\\n</ion-content>\\n\";","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar color=\\\"dark\\\">\\n    <ion-title>\\n      Listado Visitas\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content class=\\\"valign-wrapper2\\\">\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content pullingIcon=\\\"chevron-down-circle-outline\\\" pullingText=\\\"Pull to refresh\\\"\\n      refreshingSpinner=\\\"circles\\\" refreshingText=\\\"Refreshing...\\\">\\n    </ion-refresher-content>\\n  </ion-refresher>\\n  <ion-header>\\n    <ion-title>\\n      <br><br>\\n    </ion-title>\\n  </ion-header>\\n  <ion-list class=\\\"valign-wrapper4\\\">\\n    <ion-item>\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col size=\\\"4\\\">\\n            <div>\\n            <ion-label>NOMBRE </ion-label>\\n          </div>\\n        </ion-col>\\n        <ion-col size=\\\"4\\\">\\n          <div>\\n            <ion-label>PATENTE</ion-label>\\n          </div>\\n        </ion-col>\\n        <ion-col size=\\\"4\\\">\\n          <div>\\n            <ion-label>RUT</ion-label>\\n          </div>\\n        </ion-col>\\n        <ion-col size=\\\"4\\\">\\n              <div>\\n                <ion-label>ENTRADA</ion-label>\\n              </div>\\n        </ion-col>\\n        <ion-col size=\\\"4\\\">\\n            <div>\\n              <ion-label>SALIDA</ion-label>\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-item>\\n\\n    <ion-item *ngFor=\\\"let visita of visitas\\\">\\n      <div (click)=\\\"saveVisitData(visita.visitId, visita.shiftShiftId, visita.name)\\\">\\n        <ion-grid>\\n          <ion-row>\\n            <ion-col size=\\\"4\\\">\\n              <div>\\n                <ion-label (click)=\\\"openModal2()\\\">\\n                  {{visita.name}}\\n                </ion-label>\\n              </div>\\n            </ion-col>\\n            <ion-col size=\\\"4\\\" >\\n              <div>\\n                <ion-label (click)=\\\"openModal2()\\\">\\n                  {{visita.patent}}\\n                </ion-label>\\n              </div>\\n            </ion-col>\\n            <ion-col size=\\\"4\\\">\\n              <div>\\n                <ion-label (click)=\\\"openModal2()\\\">\\n                  {{visita.rut}}\\n                </ion-label>\\n              </div>\\n            </ion-col>\\n            <ion-col size=\\\"4\\\">\\n              <div>\\n                <ion-label (click)=\\\"openModal2()\\\">\\n                  {{visita.in}}\\n                </ion-label>\\n              </div>\\n            </ion-col>\\n            <ion-col size=\\\"4\\\">\\n              <div>\\n                <ion-label (click)=\\\"openModal2()\\\">\\n                  {{visita.out}}\\n                </ion-label>\\n              </div>\\n            </ion-col>\\n            <!-- {{visita.visitId}} -->\\n            <!-- {{visita.shiftShiftId}} -->\\n            <!-- <ion-label (click)=\\\"\\\"> -->\\n            <!--  {{visita.out}} -->\\n\\n            <!-- </ion-label>\\n              \\n            </ion-col> -->\\n          </ion-row>\\n        </ion-grid>\\n      </div>\\n    </ion-item>\\n  </ion-list>\\n\\n  <ion-fab size=\\\"large\\\" vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button>\\n      <ion-icon name=\\\"add\\\" (click)=\\\"openModal()\\\"></ion-icon>\\n    </ion-fab-button>\\n\\n  </ion-fab>\\n</ion-content>\";","export default \"ion-content.valign-wrapper2 {\\n  --background: url('background.png');\\n}\\n\\nion-item.wrapper2 {\\n  --ion-background-color: rgba(255,255,255,0.8);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kYWxzL3NlY29uZC9zZWNvbmQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBRUssbUNBQUE7QUFGTDs7QUFJQztFQUNJLDZDQUFBO0FBREwiLCJmaWxlIjoic3JjL2FwcC9tb2RhbHMvc2Vjb25kL3NlY29uZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvL2Nzc1xyXG5cclxuaW9uLWNvbnRlbnQudmFsaWduLXdyYXBwZXIye1xyXG4gICAgLy8gLS1pb24tYmFja2dyb3VuZC1jb2xvcjogIzAwMDM1QztcclxuICAgICAtLWJhY2tncm91bmQ6IHVybCgnLi4vLi4vLi4vYXNzZXRzL2ltZ3MvYmFja2dyb3VuZC5wbmcnKTtcclxuIH1cclxuIGlvbi1pdGVtLndyYXBwZXIye1xyXG4gICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsMC44KTtcclxuIH0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { ModalController, ToastController } from '@ionic/angular';\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\nimport { Guard } from 'src/app/models/guard.interface';\nimport { AuthService } from 'src/app/providers/auth.service';\nimport { ApiService } from 'src/app/providers/api.service';\nimport { Shift } from 'src/app/models/shift.interface';\nimport { Observable } from 'rxjs';\nimport { Router } from '@angular/router';\n\n\n@Component({\n  selector: 'app-second',\n  templateUrl: './second.page.html',\n  styleUrls: ['./second.page.scss'],\n})\nexport class SecondPage implements OnInit {\n  guard: Guard\n  registerVisitorForm: FormGroup\n  shifts$: Observable<Shift[]>\n  shifts: Shift[]\n  constructor(\n    private modalController: ModalController,\n    public formBuilder: FormBuilder,\n    private auth: AuthService,\n    private api: ApiService,\n    public toastController: ToastController,\n    private router: Router\n  ) {\n    new Promise((resolve, reject) => {\n      this.guard = this.auth.guardData()\n     /*  console.table(this.guard) */\n      resolve()\n    }).then(() => {\n      this.shifts$ = this.api.getGuardShift(this.guard.id)\n      this.api.getGuardShift(this.guard.id).toPromise()\n        .then((data: any) => {\n          this.shifts = data.shifts;\n         /*  console.table(this.shifts) */\n        })\n    })\n\n    this.registerVisitorForm = this.createRegisterVisitorForm();\n  }\n\n  ngOnInit() {\n  }\n  createRegisterVisitorForm() {\n    return this.formBuilder.group({\n      name: new FormControl('', Validators.required),\n      rut: new FormControl('', Validators.required),\n      patent: new FormControl('', Validators.required),\n      shiftId: [this.guard.shiftId, Validators.required],\n      in: new FormControl(JSON.stringify(''), Validators.required),\n    })\n  }\n\n  registerVisitor() {\n    this.api.registerVisitor(this.registerVisitorForm.value).toPromise().then(() => {\n      console.log(this.registerVisitorForm.value)\n      this.router.navigate(['tabs/tab2'])\n    }).catch(error => { \n      this.presentToast('Error al guardar visitante') \n    })\n  }\n  \n  async closeModal() {\n    await this.modalController.dismiss();\n  }\n\n  async presentToast(message: string) {\n    const toast = await this.toastController.create({\n      message,\n      color: 'danger',\n      duration: 2000\n    });\n    toast.present();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab2Page } from './tab2.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab2Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab2PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\nimport { Tab2PageRoutingModule } from './tab2-routing.module';\nimport { SecondPage } from '../modals/second/second.page';\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RouterModule,\n    ExploreContainerComponentModule,\n    Tab2PageRoutingModule\n  ],\n  declarations: [Tab2Page, SecondPage],\n  entryComponents: [SecondPage]\n})\nexport class Tab2PageModule {}\n","export default \"ion-content.valign-wrapper2 {\\n  --background: url('background.png');\\n}\\n\\n.valign-wrapper4 {\\n  --ion-background-color: rgba(255,255,255,0.5);\\n}\\n\\nion-header.headercolor {\\n  --ion-background-color: rgba(255,255,255,0.5);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFiMi90YWIyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUVLLG1DQUFBO0FBQUw7O0FBR0M7RUFDRyw2Q0FBQTtBQUFKOztBQUVDO0VBQ0csNkNBQUE7QUFDSiIsImZpbGUiOiJzcmMvYXBwL3RhYjIvdGFiMi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudC52YWxpZ24td3JhcHBlcjJ7XHJcbiAgICAvLyAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMzVDO1xyXG4gICAgIC0tYmFja2dyb3VuZDogdXJsKCcuLi8uLi9hc3NldHMvaW1ncy9iYWNrZ3JvdW5kLnBuZycpO1xyXG4gfVxyXG5cclxuIC52YWxpZ24td3JhcHBlcjR7XHJcbiAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwyNTUsMjU1LDAuNSk7XHJcbiB9XHJcbiBpb24taGVhZGVyLmhlYWRlcmNvbG9ye1xyXG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsMjU1LDI1NSwwLjUpO1xyXG4gfSJdfQ== */\";","import { Component } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\nimport { ModalController } from '@ionic/angular';\nimport { SecondPage } from '../modals/second/second.page';\nimport { ApiService } from '../providers/api.service';\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\nimport { Shift } from '../models/shift.interface';\nimport { Observable } from 'rxjs';\nimport { Guard } from '../models/guard.interface';\nimport { AuthService } from '../providers/auth.service';\nimport { Visitor } from '../models/visitor.interface'\nimport { OutPage } from '../modals/out/out.page'\nimport { Out } from '../models/out.interface';\n\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss']\n})\nexport class Tab2Page {\n  \n  visitas: Visitor[]\n  visitas$: Observable<Visitor[]>\n  shifts: Shift[]\n  shifts$: Observable<Shift[]>\n  guard: Guard\n  out: Visitor\n  constructor(\n    private auth: AuthService,\n    private modalController: ModalController,\n    private api: ApiService\n  ) {\n    new Promise((resolve, reject) => {\n      this.guard = this.auth.guardData()\n      resolve()\n    }).then(() => {\n      this.shifts$ = this.api.getGuardShift(this.guard.id)\n      this.api.getGuardShift(this.guard.id).toPromise()\n        .then((data: any) => {\n          this.shifts = data.shifts;\n        })\n    })\n\n    this.visitas$ = this.api.getVisitors(this.guard.shiftId)\n    this.api.getVisitors(this.guard.shiftId).toPromise()\n      .then((data: any) => {\n        this.visitas = data.visits;\n        /* console.table(this.visitas) */\n      })\n\n\n  }\n  doRefresh( event ){\n    \n    \n    setTimeout(()=>{\n      this.visitas$ = this.api.getVisitors(this.guard.shiftId)\n      this.api.getVisitors(this.guard.shiftId).toPromise()\n        .then((data: any) => {\n          this.visitas = data.visits;\n          /* console.table(this.visitas) */\n        })\n      event.target.complete();\n    }, 1500);\n\n  }\n  async openModal() {\n    const modal = await this.modalController.create({\n      component: SecondPage\n    });\n    return await modal.present();\n  }\n\n  saveVisitData(visitId: number){\n\n    this.guard.visitId = visitId\n    sessionStorage.setItem('guard',JSON.stringify(this.guard))\n    console.table(this.guard)\n  }\n  async openModal2() {\n    const modal = await this.modalController.create({\n      component: OutPage\n    });\n    return await modal.present();\n  }\n\n\n  ngOninit() {\n  }\n\n}\n\n"]}