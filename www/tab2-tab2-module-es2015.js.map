{"version":3,"sources":["./src/app/modals/second/second.page.html","./src/app/tab2/tab2.page.html","./src/app/modals/second/second.page.scss","./src/app/modals/second/second.page.ts","./src/app/tab2/tab2-routing.module.ts","./src/app/tab2/tab2.module.ts","./src/app/tab2/tab2.page.scss","./src/app/tab2/tab2.page.ts"],"names":[],"mappings":"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","file":"tab2-tab2-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Guardar Visita</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"closeModal()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"close\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content class=\\\"valign-wrapper2\\\">\\n  <form lass=\\\"valign-wrapper4\\\" [formGroup]=\\\"registerVisitorForm\\\" (ngSubmit)=\\\"registerVisitor()\\\">\\n  <ion-grid >\\n    <ion-row>\\n      <ion-col>\\n        <ion-item class=\\\"wrapper2\\\">\\n          <ion-label>Ingrese Nombre y Apellido</ion-label>\\n        </ion-item>\\n        \\n        <ion-item class=\\\"wrapper2\\\">\\n          <ion-input placeholder=\\\"Ej: Juan\\\" formControlName=\\\"name\\\"></ion-input>\\n        </ion-item>\\n        \\n        <ion-item class=\\\"wrapper2\\\">\\n          <ion-label>Ingrese Patente (opcional)</ion-label>\\n        </ion-item>\\n        \\n        <ion-item class=\\\"wrapper2\\\">\\n          <ion-input placeholder=\\\"Ej: GKYY11\\\" formControlName=\\\"patent\\\"></ion-input>\\n        </ion-item>\\n        \\n        <ion-item class=\\\"wrapper2\\\">\\n          <ion-label>Ingrese Rut</ion-label>\\n        </ion-item>\\n        \\n        <ion-item class=\\\"wrapper2\\\"> \\n          <ion-input placeholder=\\\"Ej: 11.111.111-0\\\" formControlName=\\\"rut\\\"></ion-input>\\n        </ion-item>\\n\\n        <ion-item class=\\\"wrapper2\\\">\\n          <ion-label>Ingrese Hora</ion-label>\\n        </ion-item>\\n\\n        <ion-item class=\\\"wrapper2\\\">\\n          <ion-datetime displayFormat=\\\"HH:mm\\\" placeholder=\\\"Ej: 16:30\\\" formControlName=\\\"in\\\"></ion-datetime>\\n        </ion-item>\\n        <br>\\n        <ion-button color=\\\"primary\\\" type=\\\"submit\\\" size=\\\"large\\\" expand=\\\"block\\\" shape=\\\"round\\\" (click)=\\\"closeModal()\\\">Guardar Visita</ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  </form>\\n</ion-content>\\n\";","export default \"<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar color=\\\"dark\\\">\\n    <ion-title>\\n      Listado Visitas\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content class=\\\"valign-wrapper2\\\">\\n  <ion-refresher slot=\\\"fixed\\\" (ionRefresh)=\\\"doRefresh($event)\\\">\\n    <ion-refresher-content pullingIcon=\\\"chevron-down-circle-outline\\\" pullingText=\\\"Pull to refresh\\\"\\n      refreshingSpinner=\\\"circles\\\" refreshingText=\\\"Refreshing...\\\">\\n    </ion-refresher-content>\\n  </ion-refresher>\\n  <ion-header>\\n    <ion-title>\\n      <br><br>\\n    </ion-title>\\n  </ion-header>\\n  <ion-list class=\\\"valign-wrapper4\\\">\\n    <ion-item>\\n    <ion-grid>\\n      <ion-row>\\n        <ion-col size=\\\"4\\\">\\n            <div>\\n            <ion-label>NOMBRE </ion-label>\\n          </div>\\n        </ion-col>\\n        <ion-col size=\\\"4\\\">\\n          <div>\\n            <ion-label>PATENTE</ion-label>\\n          </div>\\n        </ion-col>\\n        <ion-col size=\\\"4\\\">\\n          <div>\\n            <ion-label>RUT</ion-label>\\n          </div>\\n        </ion-col>\\n        <ion-col size=\\\"4\\\">\\n              <div>\\n                <ion-label>ENTRADA</ion-label>\\n              </div>\\n        </ion-col>\\n        <ion-col size=\\\"4\\\">\\n            <div>\\n              <ion-label>SALIDA</ion-label>\\n            </div>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-item>\\n\\n    <ion-item *ngFor=\\\"let visita of visitas\\\">\\n      <div (click)=\\\"saveVisitData(visita.visitId, visita.shiftShiftId, visita.name)\\\">\\n        <ion-grid>\\n          <ion-row>\\n            <ion-col size=\\\"4\\\">\\n              <div>\\n                <ion-label (click)=\\\"openModal2()\\\">\\n                  {{visita.name}}\\n                </ion-label>\\n              </div>\\n            </ion-col>\\n            <ion-col size=\\\"4\\\" >\\n              <div>\\n                <ion-label (click)=\\\"openModal2()\\\">\\n                  {{visita.patent}}\\n                </ion-label>\\n              </div>\\n            </ion-col>\\n            <ion-col size=\\\"4\\\">\\n              <div>\\n                <ion-label (click)=\\\"openModal2()\\\">\\n                  {{visita.rut}}\\n                </ion-label>\\n              </div>\\n            </ion-col>\\n            <ion-col size=\\\"4\\\">\\n              <div>\\n                <ion-label (click)=\\\"openModal2()\\\">\\n                  {{visita.in}}\\n                </ion-label>\\n              </div>\\n            </ion-col>\\n            <ion-col size=\\\"4\\\">\\n              <div>\\n                <ion-label (click)=\\\"openModal2()\\\">\\n                  {{visita.out}}\\n                </ion-label>\\n              </div>\\n            </ion-col>\\n            <!-- {{visita.visitId}} -->\\n            <!-- {{visita.shiftShiftId}} -->\\n            <!-- <ion-label (click)=\\\"\\\"> -->\\n            <!--  {{visita.out}} -->\\n\\n            <!-- </ion-label>\\n              \\n            </ion-col> -->\\n          </ion-row>\\n        </ion-grid>\\n      </div>\\n    </ion-item>\\n  </ion-list>\\n\\n  <ion-fab size=\\\"large\\\" vertical=\\\"bottom\\\" horizontal=\\\"end\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button>\\n      <ion-icon name=\\\"add\\\" (click)=\\\"openModal()\\\"></ion-icon>\\n    </ion-fab-button>\\n\\n  </ion-fab>\\n</ion-content>\";","export default \"ion-content.valign-wrapper2 {\\n  --background: url('background.png');\\n}\\n\\nion-item.wrapper2 {\\n  --ion-background-color: rgba(255,255,255,0.8);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kYWxzL3NlY29uZC9zZWNvbmQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBRUssbUNBQUE7QUFGTDs7QUFJQztFQUNJLDZDQUFBO0FBREwiLCJmaWxlIjoic3JjL2FwcC9tb2RhbHMvc2Vjb25kL3NlY29uZC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvL2Nzc1xyXG5cclxuaW9uLWNvbnRlbnQudmFsaWduLXdyYXBwZXIye1xyXG4gICAgLy8gLS1pb24tYmFja2dyb3VuZC1jb2xvcjogIzAwMDM1QztcclxuICAgICAtLWJhY2tncm91bmQ6IHVybCgnLi4vLi4vLi4vYXNzZXRzL2ltZ3MvYmFja2dyb3VuZC5wbmcnKTtcclxuIH1cclxuIGlvbi1pdGVtLndyYXBwZXIye1xyXG4gICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsMC44KTtcclxuIH0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { ModalController, ToastController } from '@ionic/angular';\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\nimport { Guard } from 'src/app/models/guard.interface';\nimport { AuthService } from 'src/app/providers/auth.service';\nimport { ApiService } from 'src/app/providers/api.service';\nimport { Shift } from 'src/app/models/shift.interface';\nimport { Observable } from 'rxjs';\nimport { Router } from '@angular/router';\n\n\n@Component({\n  selector: 'app-second',\n  templateUrl: './second.page.html',\n  styleUrls: ['./second.page.scss'],\n})\nexport class SecondPage implements OnInit {\n  guard: Guard\n  registerVisitorForm: FormGroup\n  shifts$: Observable<Shift[]>\n  shifts: Shift[]\n  constructor(\n    private modalController: ModalController,\n    public formBuilder: FormBuilder,\n    private auth: AuthService,\n    private api: ApiService,\n    public toastController: ToastController,\n    private router: Router\n  ) {\n    new Promise((resolve, reject) => {\n      this.guard = this.auth.guardData()\n     /*  console.table(this.guard) */\n      resolve()\n    }).then(() => {\n      this.shifts$ = this.api.getGuardShift(this.guard.id)\n      this.api.getGuardShift(this.guard.id).toPromise()\n        .then((data: any) => {\n          this.shifts = data.shifts;\n         /*  console.table(this.shifts) */\n        })\n    })\n\n    this.registerVisitorForm = this.createRegisterVisitorForm();\n  }\n\n  ngOnInit() {\n  }\n  createRegisterVisitorForm() {\n    return this.formBuilder.group({\n      name: new FormControl('', Validators.required),\n      rut: new FormControl('', Validators.required),\n      patent: new FormControl('', Validators.required),\n      shiftId: [this.guard.shiftId, Validators.required],\n      in: new FormControl(JSON.stringify(''), Validators.required),\n    })\n  }\n\n  registerVisitor() {\n    this.api.registerVisitor(this.registerVisitorForm.value).toPromise().then(() => {\n      console.log(this.registerVisitorForm.value)\n      this.router.navigate(['tabs/tab2'])\n    }).catch(error => { \n      this.presentToast('Error al guardar visitante') \n    })\n  }\n  \n  async closeModal() {\n    await this.modalController.dismiss();\n  }\n\n  async presentToast(message: string) {\n    const toast = await this.toastController.create({\n      message,\n      color: 'danger',\n      duration: 2000\n    });\n    toast.present();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab2Page } from './tab2.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab2Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab2PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport { Tab2Page } from './tab2.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\nimport { Tab2PageRoutingModule } from './tab2-routing.module';\nimport { SecondPage } from '../modals/second/second.page';\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RouterModule,\n    ExploreContainerComponentModule,\n    Tab2PageRoutingModule\n  ],\n  declarations: [Tab2Page, SecondPage],\n  entryComponents: [SecondPage]\n})\nexport class Tab2PageModule {}\n","export default \"ion-content.valign-wrapper2 {\\n  --background: url('background.png');\\n}\\n\\n.valign-wrapper4 {\\n  --ion-background-color: rgba(255,255,255,0.5);\\n}\\n\\nion-header.headercolor {\\n  --ion-background-color: rgba(255,255,255,0.5);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFiMi90YWIyLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUVLLG1DQUFBO0FBQUw7O0FBR0M7RUFDRyw2Q0FBQTtBQUFKOztBQUVDO0VBQ0csNkNBQUE7QUFDSiIsImZpbGUiOiJzcmMvYXBwL3RhYjIvdGFiMi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudC52YWxpZ24td3JhcHBlcjJ7XHJcbiAgICAvLyAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiAjMDAwMzVDO1xyXG4gICAgIC0tYmFja2dyb3VuZDogdXJsKCcuLi8uLi9hc3NldHMvaW1ncy9iYWNrZ3JvdW5kLnBuZycpO1xyXG4gfVxyXG5cclxuIC52YWxpZ24td3JhcHBlcjR7XHJcbiAgICAtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDI1NSwyNTUsMjU1LDAuNSk7XHJcbiB9XHJcbiBpb24taGVhZGVyLmhlYWRlcmNvbG9ye1xyXG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsMjU1LDI1NSwwLjUpO1xyXG4gfSJdfQ== */\";","import { Component } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\nimport { ModalController } from '@ionic/angular';\nimport { SecondPage } from '../modals/second/second.page';\nimport { ApiService } from '../providers/api.service';\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\nimport { Shift } from '../models/shift.interface';\nimport { Observable } from 'rxjs';\nimport { Guard } from '../models/guard.interface';\nimport { AuthService } from '../providers/auth.service';\nimport { Visitor } from '../models/visitor.interface'\nimport { OutPage } from '../modals/out/out.page'\nimport { Out } from '../models/out.interface';\n\n@Component({\n  selector: 'app-tab2',\n  templateUrl: 'tab2.page.html',\n  styleUrls: ['tab2.page.scss']\n})\nexport class Tab2Page {\n  \n  visitas: Visitor[]\n  visitas$: Observable<Visitor[]>\n  shifts: Shift[]\n  shifts$: Observable<Shift[]>\n  guard: Guard\n  out: Visitor\n  constructor(\n    private auth: AuthService,\n    private modalController: ModalController,\n    private api: ApiService\n  ) {\n    new Promise((resolve, reject) => {\n      this.guard = this.auth.guardData()\n      resolve()\n    }).then(() => {\n      this.shifts$ = this.api.getGuardShift(this.guard.id)\n      this.api.getGuardShift(this.guard.id).toPromise()\n        .then((data: any) => {\n          this.shifts = data.shifts;\n        })\n    })\n\n    this.visitas$ = this.api.getVisitors(this.guard.shiftId)\n    this.api.getVisitors(this.guard.shiftId).toPromise()\n      .then((data: any) => {\n        this.visitas = data.visits;\n        /* console.table(this.visitas) */\n      })\n\n\n  }\n  doRefresh( event ){\n    \n    \n    setTimeout(()=>{\n      this.visitas$ = this.api.getVisitors(this.guard.shiftId)\n      this.api.getVisitors(this.guard.shiftId).toPromise()\n        .then((data: any) => {\n          this.visitas = data.visits;\n          /* console.table(this.visitas) */\n        })\n      event.target.complete();\n    }, 1500);\n\n  }\n  async openModal() {\n    const modal = await this.modalController.create({\n      component: SecondPage\n    });\n    return await modal.present();\n  }\n\n  saveVisitData(visitId: number){\n\n    this.guard.visitId = visitId\n    sessionStorage.setItem('guard',JSON.stringify(this.guard))\n    console.table(this.guard)\n  }\n  async openModal2() {\n    const modal = await this.modalController.create({\n      component: OutPage\n    });\n    return await modal.present();\n  }\n\n\n  ngOninit() {\n  }\n\n}\n\n"],"sourceRoot":"webpack:///"}