{"version":3,"sources":["webpack:///src/app/tab4/tab4.page.html","webpack:///src/app/tab4/tab4-routing.module.ts","webpack:///src/app/tab4/tab4.module.ts","webpack:///src/app/tab4/tab4.page.scss","webpack:///src/app/tab4/tab4.page.ts"],"names":["routes","path","component","Tab4PageRoutingModule","imports","forChild","exports","Tab4PageModule","declarations","Tab4Page","toastController","formBuilder","api","plt","auth","alertCtrl","router","Promise","resolve","reject","guard","guardData","then","shifts$","getGuardShift","id","toPromise","data","shifts","registerForm","createRegisterForm","group","title","required","description","shiftId","message","create","color","duration","toast","present","register","value","navigate","error","text","presentToast","selector","template"],"mappings":"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","file":"tab4-tab4-module-es5.js","sourcesContent":["export default \"<!-- <ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar>\\n    <ion-title>\\n      Registro-incidente\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n<ion-content>\\n  <h2>\\n    Registrar inscidente\\n  </h2>\\n  <ion-list> \\n    <ion-item>\\n     <ion-label> Sin Novedad </ion-label>\\n     <ion-checkbox></ion-checkbox>\\n    </ion-item> \\n    <ion-item>\\n      <ion-label> Persona Sospechosa </ion-label>\\n      <ion-checkbox></ion-checkbox>\\n    </ion-item>\\n   <ion-item>\\n      <ion-label> Incendio </ion-label>\\n      <ion-checkbox></ion-checkbox>\\n   </ion-item>\\n    <ion-item>\\n      <ion-label> Otro </ion-label>\\n      <ion-input></ion-input>\\n      <ion-checkbox></ion-checkbox>\\n    </ion-item [routerLink]=\\\"['tab1']\\\">\\n   <ion-button color=\\\"primary\\\">enviar</ion-button>\\n  </ion-list>\\n</ion-content> -->\\n\\n\\n<ion-header [translucent]=\\\"true\\\">\\n  <ion-toolbar color=\\\"dark\\\">\\n    <ion-title>\\n      Registro-incidente\\n    </ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button routerLink='/tabs/tab1'>\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"close\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content class=\\\"valign-wrapper2\\\">\\n  <br>\\n  <ion-title size=\\\"large\\\"> </ion-title>\\n\\n <!--  <ion-item color=\\\"primary\\\" shape=\\\"round\\\">\\n    <ion-label>INICIAR TURNO</ion-label>\\n    <ion-toggle (click)=Notification() color=\\\"dark\\\"></ion-toggle>\\n  </ion-item> -->\\n \\n\\n  \\n  \\n  <!-- <ion-form [formGroup]=\\\"registerForm\\\" (ngSubmit)=\\\"register()\\\"> -->\\n    <form class=\\\"valign-wrapper4\\\" [formGroup]=\\\"registerForm\\\" (ngSubmit)=\\\"register()\\\">\\n\\n      <!-- <ion-item color=\\\"medium\\\" >\\n        <ion-label>\\n          Elegir turno a iniciar:\\n        </ion-label>\\n        <ion-select value=\\\"brown\\\" okText=\\\"Okay\\\" cancelText=\\\"Dismiss\\\" *ngFor=\\\"let shift of shifts$ | async\\\"\\n        <ion-select value=\\\"brown\\\" okText=\\\"Okay\\\" cancelText=\\\"Dismiss\\\" class=\\\"ion-text-wrap\\\" formControlName=\\\"shiftId\\\">\\n         [(ngModel)]=\\\"shifts$\\\">\\n          <ion-select-option class=\\\"ion-text-wrap\\\" [value]=\\\"shift.shiftId\\\" *ngFor=\\\"let shift of shifts\\\" >\\n            {{shift.date}}\\n          </ion-select-option>\\n          <ion-select-option hidden>\\n            {{shift.date}}\\n          {{shift.dates+' '+shift.start+' '+shift.finish}}\\n        </ion-select-option>\\n        </ion-select>\\n      </ion-item> -->\\n      <br><br>\\n    <ion-list >\\n      \\n        <ion-radio-group value=\\\"Sin novedad\\\" formControlName=\\\"title\\\" >\\n          <ion-list-header>\\n            <ion-label>Registrar Novedades</ion-label>\\n          </ion-list-header>\\n\\n          <ion-item >\\n            <ion-label>Sin Novedad</ion-label>\\n            <ion-radio slot=\\\"start\\\" type=\\\"radio\\\" value=\\\"Sin Novedad\\\"></ion-radio>\\n          </ion-item>\\n\\n          <ion-item>\\n            <ion-label>Persona Sospechosa</ion-label>\\n            <ion-radio slot=\\\"start\\\" type=\\\"radio\\\" value=\\\"Persona Sospechosa\\\"></ion-radio>\\n          </ion-item>\\n\\n          <ion-item>\\n            <ion-label>Incendio</ion-label>\\n            <ion-radio slot=\\\"start\\\" type=\\\"radio\\\" value=\\\"Incendio\\\"></ion-radio>\\n          </ion-item>\\n          \\n          <ion-item>\\n            <ion-label>Otro</ion-label>\\n            <ion-radio slot=\\\"start\\\" value=\\\"Otro\\\"></ion-radio>\\n            <ion-textarea placeholder=\\\"ingrese más información\\\" formControlName=\\\"description\\\"></ion-textarea>\\n          </ion-item>\\n\\n        </ion-radio-group>\\n      <br><br>\\n      <ion-grid>\\n        <ion-row>\\n          <ion-col>\\n            <ion-button color=\\\"primary\\\" type=\\\"submit\\\" expand=\\\"block\\\" shape=\\\"round\\\" size=\\\"large\\\">Registrar</ion-button>\\n          </ion-col>\\n        </ion-row>\\n      </ion-grid>\\n    </ion-list>\\n  </form>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { Tab4Page } from './tab4.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: Tab4Page,\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class Tab4PageRoutingModule {}\n","import { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Tab4Page } from './tab4.page';\nimport { ExploreContainerComponentModule } from '../explore-container/explore-container.module';\n\nimport { Tab4PageRoutingModule } from './tab4-routing.module';\n\n@NgModule({\n  imports: [\n    IonicModule,\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    RouterModule.forChild([{ path: '', component: Tab4Page }]),\n    ExploreContainerComponentModule,\n    Tab4PageRoutingModule\n  ],\n  declarations: [Tab4Page]\n})\nexport class Tab4PageModule {}","export default \".mover {\\n  align-self: center;\\n}\\n\\nion-content.valign-wrapper2 {\\n  --background: url('background.png');\\n}\\n\\nion-header.valign-wrapper3 {\\n  --background: url('background.png');\\n}\\n\\n.valign-wrapper4 {\\n  --ion-background-color: rgba(255,255,255,0.6);\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvdGFiNC90YWI0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGtCQUFBO0FBQ0o7O0FBQ0E7RUFFSyxtQ0FBQTtBQUNMOztBQUNDO0VBRUksbUNBQUE7QUFDTDs7QUFFQztFQUNHLDZDQUFBO0FBQ0oiLCJmaWxlIjoic3JjL2FwcC90YWI0L3RhYjQucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1vdmVye1xyXG4gICAgYWxpZ24tc2VsZjogY2VudGVyO1xyXG59XHJcbmlvbi1jb250ZW50LnZhbGlnbi13cmFwcGVyMntcclxuICAgIC8vIC0taW9uLWJhY2tncm91bmQtY29sb3I6ICMwMDAzNUM7XHJcbiAgICAgLS1iYWNrZ3JvdW5kOiB1cmwoJy4uLy4uL2Fzc2V0cy9pbWdzL2JhY2tncm91bmQucG5nJyk7XHJcbiB9XHJcbiBpb24taGVhZGVyLnZhbGlnbi13cmFwcGVyM3tcclxuICAgIC8vIC0taW9uLWJhY2tncm91bmQtY29sb3I6ICMwMDAzNUM7XHJcbiAgICAgLS1iYWNrZ3JvdW5kOiB1cmwoJy4uLy4uL2Fzc2V0cy9pbWdzL2JhY2tncm91bmQucG5nJyk7XHJcbiB9XHJcblxyXG4gLnZhbGlnbi13cmFwcGVyNHtcclxuICAgIC0taW9uLWJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LDI1NSwyNTUsMC42KTtcclxuIH0iXX0= */\";","import { Component } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators, FormControl } from '@angular/forms';\n/* import { LocalNotifications, ELocalNotificationTriggerUnit } from '@ionic-native/local-notifications/ngx'; */\nimport { Platform, AlertController, ToastController } from '@ionic/angular'\nimport { ApiService } from '../providers/api.service';\nimport { Guard } from '../models/guard.interface';\nimport { Shift } from '../models/shift.interface';\nimport { Observable } from 'rxjs';\nimport { AuthService } from '../providers/auth.service';\nimport { Incident } from '../models/incident.interface';\nimport { Router } from '@angular/router';\n\n\n@Component({\n  selector: 'app-tab4',\n  templateUrl: 'tab4.page.html',\n  styleUrls: ['tab4.page.scss']\n})\nexport class Tab4Page {\n  registerForm: FormGroup\n  shifts$: Observable<Shift[]>\n  shifts: Shift[]\n  guard: Guard\n  incident: Incident[]\n\n  constructor(\n    public toastController: ToastController,\n    public formBuilder: FormBuilder,\n    private api: ApiService,\n    private plt: Platform,\n    /* private localNotifications: LocalNotifications, */\n    private auth: AuthService,\n    private alertCtrl: AlertController,\n    private router: Router\n  ) {\n\n    new Promise((resolve, reject) => {\n      this.guard = this.auth.guardData()\n     /*  console.table(this.guard) */\n      resolve()\n    }).then(() => {\n      this.shifts$ = this.api.getGuardShift(this.guard.id)\n      this.api.getGuardShift(this.guard.id).toPromise()\n        .then((data: any) => {\n          this.shifts = data.shifts;\n         /*  console.table(this.shifts) */\n        })\n    })\n\n\n    this.registerForm = this.createRegisterForm();\n  }\n\n  createRegisterForm() {\n    return this.formBuilder.group({\n      title: new FormControl('', Validators.required),\n      description: new FormControl('', Validators.required),\n      shiftId: [this.guard.shiftId, Validators.required]\n    })\n  }\n  async presentToast(message: string) {\n    const toast = await this.toastController.create({\n      message,\n      color: 'danger',\n      duration: 2000\n    });\n    toast.present();\n  }\n\n\n  register() {\n    this.api.register(this.registerForm.value).toPromise().then(() => {\n      this.router.navigate(['tabs/tab1'])\n    }).catch(error => {\n      /* console.log(error.error.message) */\n      let text: string\n      switch (error.error.message) {\n        case 'shift has been finished or unauthorized':\n          text = 'Este turno ya a terminado o no esta autorizado'\n          break\n        default:\n          text = 'Ha ocurrido un error, intente nuevamente'\n      }\n      this.presentToast(text)\n    })\n  }\n\n  ngOninit() {\n    /* new Promise((resolve, reject) => {\n      this.guard = this.auth.guardData()\n      console.table(this.guard)\n      resolve()\n    }).then(() => {\n      this.shifts$ = this.api.getGuardShift(this.guard.id)\n      this.api.getGuardShift(this.guard.id).toPromise()\n        .then((data: any) => {\n          this.shifts = data.shifts;\n          console.table(this.shifts)\n        })\n    }) */\n\n    /* this.registerForm = this.createRegisterForm() */\n\n    /* this.registerForm = this.formBuilder.group({\n      incident: new FormControl('', Validators.required),\n      other: new FormControl('', Validators.required)\n    }); */\n\n  }\n}\n"]}